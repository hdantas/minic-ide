module MiniC-ASTSyntax-testcases

language MiniC
start symbol Exp

test array    [[x[0] ]]     parse to ArrayAccess(Var("x"), Integer("0"))
test struct   [[x.y ]]      parse to StructAccess(Var("x"), Var("y"))

test op AND   [[x && y]]    parse to LogicalAnd(Var("x"), Var("y"))
test op lt    [[x < y]]     parse to LessThan(Var("x"), Var("y"))
test op gt    [[x > y]]     parse to GreaterThan(Var("x"), Var("y"))
// test op lteq  [[x <= y]]    parse to LessThanEqual(Var("x"), Var("y"))
// test op gteq  [[x >= y]]    parse to GreaterThanEqual(Var("x"), Var("y"))
// test op eq    [[x == y]]    parse to Equal(Var("x"), Var("y"))
// test op neq   [[x != y]]    parse to NotEqual(Var("x"), Var("y"))
test op add   [[x + y]]     parse to Add(Var("x"), Var("y"))
test op add   [[4 + 2]]     parse to Add(Integer("4"), Integer("2"))
test op add   [[-4 + 2]]    parse to Add(NInteger("4"), Integer("2"))
test op sub   [[x - y]]     parse to Subtract(Var("x"), Var("y"))
test op sub   [[4 - 2]]     parse to Subtract(Integer("4"), Integer("2"))
test op sub   [[-4 - 2]]    parse to Subtract(NInteger("4"), Integer("2"))
test op mul   [[x * y]]     parse to Multiply(Var("x"),Var("y"))
test op mul   [[4 * 2]]     parse to Multiply(Integer("4"), Integer("2"))
test op mul   [[-4 * 2]]    parse to Multiply(NInteger("4"), Integer("2"))
test op mul   [[4 * -2]]    parse to Multiply(Integer("4"), NInteger("2"))
test op div   [[x / y]]     parse to Divide(Var("x"),Var("y"))
test op div   [[4 / 2]]     parse to Divide(Integer("4"), Integer("2"))
test op div   [[-4 / 2]]    parse to Divide(NInteger("4"), Integer("2"))
test op div   [[4 / -2]]    parse to Divide(Integer("4"), NInteger("2"))
test not      [[!x]]        parse to Not(Var("x"))
test sizeof   [[sizeof(x)]] parse to SizeOf(Var("x"))
test fun call [[foo(x)]]    parse to FunctionCall(FunctionName("foo"), Argumentlist([_]))

