module resolution

language MiniC
start symbol Program

// struct names
test backward struct name resolution [[
  struct [[Foo]] {};

  int main(){
    struct [[Foo]] bar;
    return 0;
  }
  
  0
]] resolve #2 to #1

test backward struct name resolution [[
  struct [[Foo]] {};

  struct [[Foo]] bar;
  
  0
]] resolve #2 to #1



test [[
  struct [[Point]] {
    int a;
  };
  
  struct [[Point]] p;
  
  int main() {
    int a;
    p.a = 0;
    return 0;
  }
  
  p.a
]] resolve #2 to #1


test [[
  struct [[b]]{
    int b;
  };
  
  int main(){
    struct [[b]] b;
    return b;
  }
  
  0
]] resolve #2 to #1


test backward struct variable resolution [[
  struct [[Foo]] {int a;};

  int main (struct [[Foo]] foo) {
    return 0;
  }
 
  0
]] resolve #2 to #1